"use strict";(()=>{var e={};e.id=7234,e.ids=[7234],e.modules={53524:e=>{e.exports=require("@prisma/client")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},36754:(e,p,r)=>{r.r(p),r.d(p,{originalPathname:()=>v,patchFetch:()=>A,requestAsyncStorage:()=>l,routeModule:()=>o,serverHooks:()=>c,staticGenerationAsyncStorage:()=>u});var a={};r.r(a),r.d(a,{GET:()=>m});var i=r(49303),t=r(88716),n=r(60670),s=r(87070),d=r(75748);async function m(e){try{let[e,p,r,a]=await Promise.all([d._.premiumApp.findMany({where:{miniApp:{status:"approved"}},include:{miniApp:{include:{developer:{select:{id:!0,wallet:!0,name:!0,avatar:!0,verified:!0}}}}},orderBy:{addedAt:"desc"},take:20}),d._.premiumApp.findMany({where:{featuredIn:{has:"games_playing"},miniApp:{status:"approved"}},include:{miniApp:{include:{developer:{select:{id:!0,wallet:!0,name:!0,avatar:!0,verified:!0}}}}},take:10}),d._.premiumApp.findMany({where:{featuredIn:{has:"get_started"},miniApp:{status:"approved"}},include:{miniApp:{include:{developer:{select:{id:!0,wallet:!0,name:!0,avatar:!0,verified:!0}}}}},take:6}),d._.premiumApp.findMany({where:{onSale:!0,miniApp:{status:"approved"}},include:{miniApp:{include:{developer:{select:{id:!0,wallet:!0,name:!0,avatar:!0,verified:!0}}}}},take:10})]);return s.NextResponse.json({premiumApps:e.map(e=>({...e.miniApp,developer:e.miniApp.developer})),gamesPlaying:p.map(e=>({...e.miniApp,developer:e.miniApp.developer})),getStarted:r.map(e=>({...e.miniApp,developer:e.miniApp.developer})),onSale:a.map(e=>({...e.miniApp,developer:e.miniApp.developer,salePrice:e.salePrice}))})}catch(e){return console.error("Get premium apps error:",e),s.NextResponse.json({premiumApps:[],gamesPlaying:[],getStarted:[],onSale:[]},{status:200})}}let o=new i.AppRouteRouteModule({definition:{kind:t.x.APP_ROUTE,page:"/api/premium/apps/route",pathname:"/api/premium/apps",filename:"route",bundlePath:"app/api/premium/apps/route"},resolvedPagePath:"E:\\base\\store\\farcaster-base-hub\\src\\app\\api\\premium\\apps\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:l,staticGenerationAsyncStorage:u,serverHooks:c}=o,v="/api/premium/apps/route";function A(){return(0,n.patchFetch)({serverHooks:c,staticGenerationAsyncStorage:u})}},75748:(e,p,r)=>{r.d(p,{_:()=>i});var a=r(53524);let i=global.prisma??new a.PrismaClient({log:["error"]})}};var p=require("../../../../webpack-runtime.js");p.C(e);var r=e=>p(p.s=e),a=p.X(0,[9276,5972],()=>r(36754));module.exports=a})();