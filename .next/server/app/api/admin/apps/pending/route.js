"use strict";(()=>{var e={};e.id=5006,e.ids=[5006],e.modules={53524:e=>{e.exports=require("@prisma/client")},72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},84770:e=>{e.exports=require("crypto")},3716:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>x,patchFetch:()=>v,requestAsyncStorage:()=>l,routeModule:()=>c,serverHooks:()=>g,staticGenerationAsyncStorage:()=>m});var a={};r.r(a),r.d(a,{GET:()=>u});var n=r(49303),s=r(88716),i=r(60670),o=r(87070),p=r(75748),d=r(90528);async function u(e){try{await (0,d.Kd)();let e=await p._.miniApp.findMany({where:{status:{in:["pending","pending_review","pending_contract"]}},include:{developer:{select:{id:!0,wallet:!0,name:!0,avatar:!0,verified:!0,verificationStatus:!0}}},orderBy:{createdAt:"desc"}});return o.NextResponse.json({apps:e})}catch(e){if("Admin access required"===e.message)return o.NextResponse.json({error:"Admin access required"},{status:403});if(e?.code==="P1001"||e?.message?.includes("Can't reach database"))return o.NextResponse.json({error:"Database temporarily unavailable. Please try again later."},{status:503});return console.error("Get pending apps error:",e),o.NextResponse.json({error:"Failed to fetch pending apps"},{status:500})}}let c=new n.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/admin/apps/pending/route",pathname:"/api/admin/apps/pending",filename:"route",bundlePath:"app/api/admin/apps/pending/route"},resolvedPagePath:"E:\\base\\store\\farcaster-base-hub\\src\\app\\api\\admin\\apps\\pending\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:l,staticGenerationAsyncStorage:m,serverHooks:g}=c,x="/api/admin/apps/pending/route";function v(){return(0,i.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:m})}}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[9276,5972,528],()=>r(3716));module.exports=a})();