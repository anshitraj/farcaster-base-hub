"use strict";(()=>{var e={};e.id=5043,e.ids=[5043],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},12447:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>m,patchFetch:()=>g,requestAsyncStorage:()=>l,routeModule:()=>u,serverHooks:()=>h,staticGenerationAsyncStorage:()=>d});var a={};r.r(a),r.d(a,{GET:()=>p});var o=r(49303),n=r(88716),s=r(60670),i=r(87070),c=r(88349);async function p(e){try{let t=e.nextUrl.searchParams.get("url");if(!t)return i.NextResponse.json({error:"URL parameter is required"},{status:400});let r=await (0,c.r)(t);if(!r)return i.NextResponse.json({metadata:null,message:"No farcaster.json found or invalid format"},{status:200});return i.NextResponse.json({metadata:r})}catch(e){return console.error("Fetch metadata error:",e),i.NextResponse.json({error:"Failed to fetch metadata",metadata:null},{status:500})}}let u=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/apps/fetch-metadata/route",pathname:"/api/apps/fetch-metadata",filename:"route",bundlePath:"app/api/apps/fetch-metadata/route"},resolvedPagePath:"E:\\base\\store\\farcaster-base-hub\\src\\app\\api\\apps\\fetch-metadata\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:l,staticGenerationAsyncStorage:d,serverHooks:h}=u,m="/api/apps/fetch-metadata/route";function g(){return(0,s.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:d})}},88349:(e,t,r)=>{async function a(e){try{let t=e.trim();t.startsWith("http")||(t=`https://${t}`),t=t.replace(/\/$/,"");let r=`${t}/.well-known/farcaster.json`,a=await fetch(r,{headers:{Accept:"application/json"},signal:AbortSignal.timeout(1e4)});if(!a.ok)return null;let o=await a.json(),n=o.icon;if(!n)try{let e=`${t}/.well-known/icon.png`;(await fetch(e,{method:"HEAD",signal:AbortSignal.timeout(5e3)})).ok&&(n=e)}catch(e){console.log("icon.png not found at /.well-known/icon.png")}return{name:o.name||void 0,icon:n||void 0,screenshots:Array.isArray(o.screenshots)?o.screenshots:void 0,category:o.category||void 0,description:o.description||void 0,url:o.url||t,ogImage:o.ogImage||o["og-image"]||o.og_image||void 0,developer:o.developer||void 0,owner:o.owner||o.owners||void 0,owners:o.owners||o.owner||void 0}}catch(e){return console.error("Error fetching farcaster.json:",e),null}}function o(e){let t=JSON.stringify(e),r=0;for(let e=0;e<t.length;e++)r=(r<<5)-r+t.charCodeAt(e),r&=r;return r.toString()}r.d(t,{g:()=>o,r:()=>a})}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[9276,5972],()=>r(12447));module.exports=a})();