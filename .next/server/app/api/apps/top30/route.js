"use strict";(()=>{var e={};e.id=7031,e.ids=[7031],e.modules={53524:e=>{e.exports=require("@prisma/client")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},72279:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>h,patchFetch:()=>v,requestAsyncStorage:()=>d,routeModule:()=>l,serverHooks:()=>m,staticGenerationAsyncStorage:()=>c});var a={};t.r(a),t.d(a,{GET:()=>u});var p=t(49303),o=t(88716),s=t(60670),n=t(87070),i=t(75748);async function u(e){try{let e=await i._.topBaseApps.findMany({orderBy:{rank:"asc"},take:30}),r=await Promise.all(e.map(async e=>{let r=await i._.miniApp.findUnique({where:{url:e.url},include:{developer:{select:{id:!0,wallet:!0,name:!0,verified:!0}}}});return{...e,app:r||null}}));return n.NextResponse.json({apps:r,total:e.length})}catch(e){return console.error("Get Top 30 error:",e),n.NextResponse.json({error:"Failed to fetch Top 30 apps",apps:[]},{status:500})}}let l=new p.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/apps/top30/route",pathname:"/api/apps/top30",filename:"route",bundlePath:"app/api/apps/top30/route"},resolvedPagePath:"E:\\base\\store\\farcaster-base-hub\\src\\app\\api\\apps\\top30\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:d,staticGenerationAsyncStorage:c,serverHooks:m}=l,h="/api/apps/top30/route";function v(){return(0,s.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:c})}},75748:(e,r,t)=>{t.d(r,{_:()=>p});var a=t(53524);let p=global.prisma??new a.PrismaClient({log:["error"]})}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[9276,5972],()=>t(72279));module.exports=a})();