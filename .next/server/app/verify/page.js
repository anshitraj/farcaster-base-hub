(()=>{var e={};e.id=5439,e.ids=[5439],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39448:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>c}),t(83283),t(20060),t(35866);var a=t(23191),r=t(88716),i=t(37922),l=t.n(i),n=t(95231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(s,o);let c=["",{children:["verify",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,83283)),"E:\\base\\store\\farcaster-base-hub\\src\\app\\verify\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,20060)),"E:\\base\\store\\farcaster-base-hub\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],d=["E:\\base\\store\\farcaster-base-hub\\src\\app\\verify\\page.tsx"],m="/verify/page",x={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/verify/page",pathname:"/verify",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},98240:(e,s,t)=>{Promise.resolve().then(t.bind(t,71423))},66307:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},69669:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},43810:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},54014:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},77506:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},58038:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},16671:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]])},71423:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>y});var a=t(10326),r=t(17577),i=t(35047),l=t(29752),n=t(91664),o=t(41190),c=t(27299),d=t(74865),m=t(47779),x=t(84097),u=t(66307),p=t(58038),h=t(69669),f=t(16671),b=t(77506),j=t(54014),g=t(43810),v=t(37181);function y(){(0,i.useRouter)();let[e,s]=(0,r.useState)(1),[t,y]=(0,r.useState)(!0),[w,N]=(0,r.useState)("unverified"),[Z,k]=(0,r.useState)(!1),[C,D]=(0,r.useState)(!1),[V,S]=(0,r.useState)(""),[F,P]=(0,r.useState)(""),[_,Y]=(0,r.useState)(!1),[E,q]=(0,r.useState)(!1),{toast:M}=(0,x.pm)(),z=async()=>{try{let e;Y(!0);let t=(0,v.z)();if(!t){M({title:"No Wallet Found",description:"Please install MetaMask or open in Base App",variant:"destructive"});return}let a=await t.request({method:"eth_requestAccounts"});if(!a||0===a.length)throw Error("No account selected");let r=a[0];try{e=await t.request({method:"personal_sign",params:["Verify your developer account for Mini App Store",r]})}catch(e){if(4001===e.code||e.message?.includes("reject"))throw Error("Signature request rejected");throw Error(e.message||"Failed to get signature")}let i=await fetch("/api/developer/verify-wallet",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({signature:e})}),l=await i.json();if(!i.ok)throw Error(l.error||"Verification failed");k(!0),N(l.status),l.verified?(q(!0),s(5),M({title:"Verification Complete! \uD83C\uDF89",description:"Your developer account is now fully verified."})):(s(3),M({title:"Wallet Verified",description:"Now verify your domain to complete verification."}))}catch(e){M({title:"Verification Failed",description:e.message||"Failed to verify wallet. Please try again.",variant:"destructive"})}finally{Y(!1)}},A=async()=>{if(!V){M({title:"Domain Required",description:"Please enter your domain",variant:"destructive"});return}try{Y(!0);let e=await fetch("/api/developer/verify-domain/start",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({domain:V})}),t=await e.json();if(!e.ok)throw Error(t.error||"Failed to start verification");P(t.instructions.fileContent),s(4),M({title:"Verification Started",description:"Please upload the verification file to your domain."})}catch(e){M({title:"Error",description:e.message||"Failed to start domain verification",variant:"destructive"})}finally{Y(!1)}},O=async()=>{try{Y(!0);let e=await fetch("/api/developer/verify-domain/confirm",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}),t=await e.json();if(!e.ok)throw Error(t.error||"Failed to confirm verification");D(!0),N(t.status),t.verified?(q(!0),s(5),M({title:"Verification Complete! \uD83C\uDF89",description:"Your developer account is now fully verified."})):(M({title:"Domain Verified",description:"Now verify your wallet to complete verification."}),s(2))}catch(e){M({title:"Verification Failed",description:e.message||"Failed to confirm domain verification",variant:"destructive"})}finally{Y(!1)}},T=e=>{navigator.clipboard.writeText(e),M({title:"Copied!",description:"Content copied to clipboard"})};return t?a.jsx(m.Z,{message:"Loading verification status..."}):E&&5===e?a.jsx("div",{className:"min-h-screen bg-[#0B0F19] pb-24",children:a.jsx("div",{className:"pt-20 pb-8",children:a.jsx("div",{className:"max-w-screen-md mx-auto px-4",children:a.jsx(l.Zb,{className:"glass-card mb-6 border-green-500/30",children:a.jsx(l.aY,{className:"pt-6",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx(u.Z,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-bold mb-2",children:"Already Verified! ✅"}),a.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Your developer account is already verified. You can submit apps and access all features."}),(0,a.jsxs)("div",{className:"flex gap-2 justify-center flex-wrap",children:[a.jsx(d.Z,{asChild:!0,children:a.jsx("a",{href:"/submit",children:"Submit an App"})}),a.jsx(d.Z,{asChild:!0,variant:"solid",children:a.jsx("a",{href:"/dashboard",children:"Go to Dashboard"})})]})]})})})})})}):a.jsx("div",{className:"min-h-screen bg-[#0B0F19] pb-24",children:a.jsx("div",{className:"pt-20 pb-8",children:(0,a.jsxs)("div",{className:"max-w-screen-md mx-auto px-4",children:[(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Developer Verification"}),a.jsx("p",{className:"text-muted-foreground text-sm",children:"Verify your wallet to submit mini apps. Domain ownership is checked via farcaster.json per app."})]}),(0,a.jsxs)(l.Zb,{className:"glass-card mb-6",children:[a.jsx(l.Ol,{children:(0,a.jsxs)(l.ll,{className:"flex items-center gap-2",children:[a.jsx(p.Z,{className:"w-5 h-5 text-base-blue"}),"Verification Status"]})}),(0,a.jsxs)(l.aY,{children:[a.jsx("div",{className:"flex items-center gap-2 mb-4",children:"verified"===w?(0,a.jsxs)(a.Fragment,{children:[a.jsx(u.Z,{className:"w-5 h-5 text-green-500"}),a.jsx("span",{className:"font-semibold text-green-500",children:"VERIFIED"})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(h.Z,{className:"w-5 h-5 text-yellow-500"}),a.jsx("span",{className:"font-semibold text-yellow-500",children:w.toUpperCase().replace("_"," ")})]})}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[Z?a.jsx(u.Z,{className:"w-4 h-4 text-green-500"}):a.jsx(h.Z,{className:"w-4 h-4 text-muted-foreground"}),(0,a.jsxs)("span",{children:["Wallet Verification ",Z?"(Required ✓)":"(Required)"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[C?a.jsx(u.Z,{className:"w-4 h-4 text-green-500"}):a.jsx(h.Z,{className:"w-4 h-4 text-muted-foreground"}),a.jsx("span",{children:"Domain Verification (Optional)"})]}),Z&&!C&&(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-2 pt-2 border-t border-white/10",children:["\uD83D\uDCA1 ",a.jsx("strong",{children:"Note:"}),' Domain ownership is checked per-app via farcaster.json. Add your wallet to the "owner" or "owners" field in your app\'s farcaster.json for auto-approval.']})]})]})]}),!Z&&e<=2&&(0,a.jsxs)(l.Zb,{className:"glass-card mb-6",children:[a.jsx(l.Ol,{children:(0,a.jsxs)(l.ll,{className:"flex items-center gap-2",children:[a.jsx(f.Z,{className:"w-5 h-5 text-base-blue"}),"Step 1: Verify Wallet"]})}),(0,a.jsxs)(l.aY,{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Sign a message with your wallet to verify ownership"}),a.jsx(d.Z,{onClick:z,disabled:_||Z,className:"w-full",children:_?(0,a.jsxs)(a.Fragment,{children:[a.jsx(b.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Verifying..."]}):Z?(0,a.jsxs)(a.Fragment,{children:[a.jsx(u.Z,{className:"w-4 h-4 mr-2"}),"Wallet Verified"]}):"Verify Wallet"})]})]}),Z&&!C&&a.jsx(l.Zb,{className:"glass-card mb-6 border-green-500/30",children:(0,a.jsxs)(l.aY,{className:"pt-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(u.Z,{className:"w-5 h-5 text-green-500"}),a.jsx("span",{className:"font-semibold text-green-500",children:"Wallet Verified ✓"})]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Your wallet is verified! You can now submit apps."}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["\uD83D\uDCA1 ",a.jsx("strong",{children:"Tip:"}),' Domain ownership is checked per-app via farcaster.json. Add your wallet to the "owner" or "owners" field in your app\'s farcaster.json file for auto-approval. Domain verification below is optional.']})]})}),(Z&&!C||!Z&&e<=3)&&(0,a.jsxs)(l.Zb,{className:"glass-card mb-6 border-base-cyan/20",children:[a.jsx(l.Ol,{children:(0,a.jsxs)(l.ll,{className:"flex items-center gap-2",children:[a.jsx(j.Z,{className:"w-5 h-5 text-base-cyan"}),Z?"Optional: Verify Domain":"Step 2: Verify Domain (Optional)"]})}),a.jsx(l.aY,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[Z&&!C&&a.jsx("div",{className:"bg-base-cyan/10 border border-base-cyan/30 rounded-lg p-3 mb-4",children:(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[a.jsx("strong",{children:"Note:"})," Domain verification is optional. Domain ownership is checked per-app via farcaster.json when you submit. This step is only needed if you want to verify a domain separately."]})}),(0,a.jsxs)("div",{children:[a.jsx(c._,{htmlFor:"domain",children:"Your Domain"}),a.jsx(o.I,{id:"domain",type:"url",placeholder:"https://yourdomain.com",value:V,onChange:e=>S(e.target.value),className:"glass-card mt-2",disabled:C})]}),!C&&a.jsx(d.Z,{onClick:A,disabled:_||!V,className:"w-full",children:_?(0,a.jsxs)(a.Fragment,{children:[a.jsx(b.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Starting..."]}):"Start Domain Verification"})]})})]}),4===e&&(0,a.jsxs)(l.Zb,{className:"glass-card mb-6",children:[a.jsx(l.Ol,{children:a.jsx(l.ll,{children:"Step 3: Upload Verification File"})}),a.jsx(l.aY,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx(c._,{children:"File Path"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx("code",{className:"flex-1 p-2 bg-background-secondary rounded text-sm",children:"/.well-known/miniapp-verification.txt"}),a.jsx(n.z,{variant:"outline",size:"sm",onClick:()=>T("/.well-known/miniapp-verification.txt"),children:a.jsx(g.Z,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{children:[a.jsx(c._,{children:"File Content"}),(0,a.jsxs)("div",{className:"flex items-start gap-2 mt-2",children:[a.jsx("code",{className:"flex-1 p-2 bg-background-secondary rounded text-sm whitespace-pre-wrap",children:F}),a.jsx(n.z,{variant:"outline",size:"sm",onClick:()=>T(F),children:a.jsx(g.Z,{className:"w-4 h-4"})})]})]}),a.jsx("div",{className:"bg-base-blue/10 border border-base-blue/30 rounded-lg p-3",children:(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[a.jsx("strong",{children:"Instructions:"}),a.jsx("br",{}),"1. Create the file at the path shown above on your domain",a.jsx("br",{}),"2. Paste the content exactly as shown",a.jsx("br",{}),"3. Make sure the file is publicly accessible",a.jsx("br",{}),'4. Click "Verify Domain" below']})}),a.jsx(d.Z,{onClick:O,disabled:_,className:"w-full",children:_?(0,a.jsxs)(a.Fragment,{children:[a.jsx(b.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Verifying..."]}):"Verify Domain"})]})})]}),5===e&&a.jsx(l.Zb,{className:"glass-card mb-6 border-green-500/30",children:a.jsx(l.aY,{className:"pt-6",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx(u.Z,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-bold mb-2",children:"Verification Complete! \uD83C\uDF89"}),a.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Your developer account is now verified. You can now submit mini apps."}),(0,a.jsxs)("div",{className:"flex gap-2 justify-center flex-wrap",children:[a.jsx(d.Z,{asChild:!0,children:a.jsx("a",{href:"/submit",children:"Submit Your First App"})}),a.jsx(d.Z,{asChild:!0,variant:"solid",children:a.jsx("a",{href:"/dashboard",children:"Go to Dashboard"})})]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"You can close this page. You won't need to verify again."})]})})})]})})})}},74865:(e,s,t)=>{"use strict";t.d(s,{Z:()=>l});var a=t(10326),r=t(91664),i=t(51223);let l=({className:e,glowColor:s="gradient",variant:t="gradient",...l})=>{let n="",o="";return"gradient"===t?(n="btn-gradient",o="glow-gradient"):"blue"===s?(n="bg-base-blue hover:bg-base-blue-soft text-white",o="glow-base-blue"):"purple"===s?(n="bg-purple hover:bg-purple/90 text-white",o="glow-purple"):(n="btn-gradient",o="glow-gradient"),a.jsx(r.z,{className:(0,i.cn)("transition-all duration-300 font-medium",n,o,"hover:scale-[1.02] active:scale-[0.98]",e),...l})}},47779:(e,s,t)=>{"use strict";t.d(s,{Z:()=>n});var a=t(10326),r=t(77506),i=t(51223);function l({size:e="md",className:s,text:t}){return(0,a.jsxs)("div",{className:(0,i.cn)("flex flex-col items-center justify-center gap-2",s),children:[a.jsx(r.Z,{className:(0,i.cn)("animate-spin text-base-blue",{sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"}[e])}),t&&a.jsx("p",{className:"text-sm text-muted-foreground",children:t})]})}function n({message:e="Loading..."}){return a.jsx("div",{className:"min-h-screen bg-[#0B0F19] pt-20 px-4 pb-24",children:a.jsx("div",{className:"max-w-screen-md mx-auto flex items-center justify-center py-20",children:a.jsx(l,{size:"lg",text:e})})})}},41190:(e,s,t)=>{"use strict";t.d(s,{I:()=>l});var a=t(10326),r=t(17577),i=t(51223);let l=r.forwardRef(({className:e,type:s,...t},r)=>a.jsx("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));l.displayName="Input"},27299:(e,s,t)=>{"use strict";t.d(s,{_:()=>d});var a=t(10326),r=t(17577),i=t(45226),l=r.forwardRef((e,s)=>(0,a.jsx)(i.WV.label,{...e,ref:s,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));l.displayName="Label";var n=t(79360),o=t(51223);let c=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef(({className:e,...s},t)=>a.jsx(l,{ref:t,className:(0,o.cn)(c(),e),...s}));d.displayName=l.displayName},37181:(e,s,t)=>{"use strict";function a(){return null}t.d(s,{z:()=>a})},83283:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`E:\base\store\farcaster-base-hub\src\app\verify\page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[9276,7912,5019],()=>t(39448));module.exports=a})();