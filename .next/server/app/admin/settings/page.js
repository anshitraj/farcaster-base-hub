(()=>{var e={};e.id=6140,e.ids=[6140],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},70881:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>o,routeModule:()=>x,tree:()=>d}),a(92632),a(20060),a(35866);var t=a(23191),r=a(88716),n=a(37922),i=a.n(n),l=a(95231),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);a.d(s,c);let d=["",{children:["admin",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,92632)),"E:\\base\\store\\farcaster-base-hub\\src\\app\\admin\\settings\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,20060)),"E:\\base\\store\\farcaster-base-hub\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],o=["E:\\base\\store\\farcaster-base-hub\\src\\app\\admin\\settings\\page.tsx"],u="/admin/settings/page",m={require:a,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/settings/page",pathname:"/admin/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},58413:(e,s,a)=>{Promise.resolve().then(a.bind(a,1279))},26092:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]])},31215:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},1279:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>y});var t=a(10326),r=a(17577),n=a(29752),i=a(91664),l=a(87542),c=a(27299),d=a(41190),o=a(82015),u=a(29280),m=a(24118),x=a(88378),h=a(26092),p=a(31215),g=a(6507);let b=(0,a(62881).Z)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var f=a(84097),j=a(47779),v=a(11004);function y(){let[e,s]=(0,r.useState)(!0),[a,y]=(0,r.useState)(!1),[N,w]=(0,r.useState)(null),[k,S]=(0,r.useState)(!0),[P,E]=(0,r.useState)(!1),[C,_]=(0,r.useState)(!1),[Z,A]=(0,r.useState)("info"),[F,T]=(0,r.useState)(""),[O,q]=(0,r.useState)(""),[M,L]=(0,r.useState)(""),[Q,R]=(0,r.useState)(!1),{toast:z}=(0,f.pm)();async function D(){E(!0);try{let e=await fetch("/api/admin/settings",{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({premiumEnabled:k})});if(!e.ok){let s=await e.json();throw Error(s.error||"Failed to save settings")}z({title:"Success",description:"Settings saved successfully"})}catch(e){z({title:"Error",description:e.message||"Failed to save settings",variant:"destructive"})}finally{E(!1)}}if(e)return t.jsx(j.Z,{message:"Loading settings..."});if(!a)return t.jsx("div",{className:"min-h-screen bg-[#0B0F19] pb-24",children:t.jsx("div",{className:"pt-20 pb-8",children:t.jsx("div",{className:"max-w-screen-md mx-auto px-4",children:t.jsx(n.Zb,{className:"glass-card border-red-500/30",children:t.jsx(n.aY,{className:"pt-6",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("h2",{className:"text-xl font-bold mb-2",children:"Access Denied"}),t.jsx("p",{className:"text-muted-foreground text-sm",children:"Admin access required"})]})})})})})});let B=async()=>{if(!F.trim()||!O.trim()){z({title:"Error",description:"Title and message are required",variant:"destructive"});return}R(!0);try{let e=await fetch("/api/admin/notifications/broadcast",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({type:Z,title:F,message:O,link:M.trim()||void 0})});if(!e.ok){let s=await e.json();throw Error(s.error||"Failed to send notification")}let s=await e.json();z({title:"Success",description:`Notification sent to ${s.count} users`}),T(""),q(""),L(""),A("info"),_(!1)}catch(e){z({title:"Error",description:e.message||"Failed to send notification",variant:"destructive"})}finally{R(!1)}};return(0,t.jsxs)("div",{className:"min-h-screen bg-[#0B0F19] pb-24",children:[t.jsx(v.Z,{}),t.jsx("div",{className:"pt-8 pb-8",children:(0,t.jsxs)("div",{className:"max-w-screen-md mx-auto px-4",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("h1",{className:"text-2xl md:text-3xl font-bold mb-2 flex items-center gap-2",children:[t.jsx(x.Z,{className:"w-6 h-6 text-yellow-400"}),"Admin Settings"]}),t.jsx("p",{className:"text-muted-foreground text-sm",children:"Configure feature flags and system settings"})]}),(0,t.jsxs)(n.Zb,{className:"glass-card mb-6",children:[t.jsx(n.Ol,{children:(0,t.jsxs)(n.ll,{className:"flex items-center gap-2",children:[t.jsx(h.Z,{className:"w-5 h-5 text-purple-400"}),"Premium Features"]})}),(0,t.jsxs)(n.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg bg-background-secondary",children:[(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx(c._,{htmlFor:"premium-toggle",className:"text-base font-semibold cursor-pointer",children:"Enable Premium Features"}),t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"When enabled, users can subscribe to Premium and access premium features like analytics, boosts, and access codes. When disabled, all premium features are hidden."})]}),t.jsx(l.r,{id:"premium-toggle",checked:k,onCheckedChange:S,className:"ml-4"})]}),t.jsx("div",{className:"pt-4 border-t border-white/10",children:(0,t.jsxs)(i.z,{onClick:D,disabled:P,className:"w-full md:w-auto bg-base-blue hover:bg-base-blue/90",children:[t.jsx(p.Z,{className:"w-4 h-4 mr-2"}),P?"Saving...":"Save Settings"]})})]})]}),(0,t.jsxs)(n.Zb,{className:"glass-card mb-6",children:[t.jsx(n.Ol,{children:(0,t.jsxs)(n.ll,{className:"flex items-center gap-2",children:[t.jsx(g.Z,{className:"w-5 h-5 text-base-blue"}),"Send Notification to All Users"]})}),(0,t.jsxs)(n.aY,{children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Send a notification to all users in the system. This will appear in their notification sidebar."}),(0,t.jsxs)(i.z,{onClick:()=>_(!0),className:"w-full md:w-auto bg-base-blue hover:bg-base-blue/90",children:[t.jsx(b,{className:"w-4 h-4 mr-2"}),"Send Notification"]})]})]}),(0,t.jsxs)(n.Zb,{className:"glass-card",children:[t.jsx(n.Ol,{children:t.jsx(n.ll,{children:"Feature Status"})}),t.jsx(n.aY,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-background-secondary",children:[t.jsx("span",{className:"text-sm",children:"Premium Page"}),t.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${k?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:k?"Enabled":"Disabled"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-background-secondary",children:[t.jsx("span",{className:"text-sm",children:"Premium Subscriptions"}),t.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${k?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:k?"Enabled":"Disabled"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-background-secondary",children:[t.jsx("span",{className:"text-sm",children:"Premium Analytics"}),t.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${k?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:k?"Enabled":"Disabled"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-background-secondary",children:[t.jsx("span",{className:"text-sm",children:"Boost Requests"}),t.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${k?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:k?"Enabled":"Disabled"})]})]})})]}),t.jsx(m.Vq,{open:C,onOpenChange:_,children:(0,t.jsxs)(m.cZ,{className:"glass-card border-white/10 max-w-2xl",children:[(0,t.jsxs)(m.fK,{children:[(0,t.jsxs)(m.$N,{className:"flex items-center gap-2",children:[t.jsx(g.Z,{className:"w-5 h-5 text-base-blue"}),"Send Notification to All Users"]}),t.jsx(m.Be,{children:"This notification will be sent to all users in the system."})]}),(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(c._,{htmlFor:"notification-type",children:"Type"}),(0,t.jsxs)(u.Ph,{value:Z,onValueChange:A,children:[t.jsx(u.i4,{className:"glass-card",children:t.jsx(u.ki,{})}),(0,t.jsxs)(u.Bw,{className:"glass-card border-white/10",children:[t.jsx(u.Ql,{value:"info",children:"Info"}),t.jsx(u.Ql,{value:"success",children:"Success"}),t.jsx(u.Ql,{value:"warning",children:"Warning"}),t.jsx(u.Ql,{value:"error",children:"Error"}),t.jsx(u.Ql,{value:"new_app",children:"New App"}),t.jsx(u.Ql,{value:"trending",children:"Trending"}),t.jsx(u.Ql,{value:"app_updated",children:"App Updated"}),t.jsx(u.Ql,{value:"premium_offer",children:"Premium Offer"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(c._,{htmlFor:"notification-title",children:"Title *"}),t.jsx(d.I,{id:"notification-title",value:F,onChange:e=>T(e.target.value),className:"glass-card",placeholder:"Notification title",maxLength:200})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(c._,{htmlFor:"notification-message",children:"Message *"}),t.jsx(o.g,{id:"notification-message",value:O,onChange:e=>q(e.target.value),className:"glass-card min-h-[100px]",placeholder:"Notification message",maxLength:1e3})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(c._,{htmlFor:"notification-link",children:"Link (Optional)"}),t.jsx(d.I,{id:"notification-link",type:"url",value:M,onChange:e=>L(e.target.value),className:"glass-card",placeholder:"https://example.com (optional)"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Optional link that users can click to navigate"})]})]}),(0,t.jsxs)(m.cN,{children:[t.jsx(i.z,{variant:"outline",onClick:()=>{_(!1),T(""),q(""),L(""),A("info")},disabled:Q,children:"Cancel"}),(0,t.jsxs)(i.z,{onClick:B,disabled:Q||!F.trim()||!O.trim(),className:"bg-base-blue hover:bg-base-blue/90",children:[t.jsx(b,{className:"w-4 h-4 mr-2"}),Q?"Sending...":"Send to All Users"]})]})]})})]})})]})}},87542:(e,s,a)=>{"use strict";a.d(s,{r:()=>w});var t=a(10326),r=a(17577),n=a(82561),i=a(48051),l=a(93095),c=a(52067),d=a(53405),o=a(2566),u=a(45226),m="Switch",[x,h]=(0,l.b)(m),[p,g]=x(m),b=r.forwardRef((e,s)=>{let{__scopeSwitch:a,name:l,checked:d,defaultChecked:o,required:x,disabled:h,value:g="on",onCheckedChange:b,form:f,...j}=e,[N,w]=r.useState(null),k=(0,i.e)(s,e=>w(e)),S=r.useRef(!1),P=!N||f||!!N.closest("form"),[E,C]=(0,c.T)({prop:d,defaultProp:o??!1,onChange:b,caller:m});return(0,t.jsxs)(p,{scope:a,checked:E,disabled:h,children:[(0,t.jsx)(u.WV.button,{type:"button",role:"switch","aria-checked":E,"aria-required":x,"data-state":y(E),"data-disabled":h?"":void 0,disabled:h,value:g,...j,ref:k,onClick:(0,n.M)(e.onClick,e=>{C(e=>!e),P&&(S.current=e.isPropagationStopped(),S.current||e.stopPropagation())})}),P&&(0,t.jsx)(v,{control:N,bubbles:!S.current,name:l,value:g,checked:E,required:x,disabled:h,form:f,style:{transform:"translateX(-100%)"}})]})});b.displayName=m;var f="SwitchThumb",j=r.forwardRef((e,s)=>{let{__scopeSwitch:a,...r}=e,n=g(f,a);return(0,t.jsx)(u.WV.span,{"data-state":y(n.checked),"data-disabled":n.disabled?"":void 0,...r,ref:s})});j.displayName=f;var v=r.forwardRef(({__scopeSwitch:e,control:s,checked:a,bubbles:n=!0,...l},c)=>{let u=r.useRef(null),m=(0,i.e)(u,c),x=(0,d.D)(a),h=(0,o.t)(s);return r.useEffect(()=>{let e=u.current;if(!e)return;let s=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(x!==a&&s){let t=new Event("click",{bubbles:n});s.call(e,a),e.dispatchEvent(t)}},[x,a,n]),(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...l,tabIndex:-1,ref:m,style:{...l.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function y(e){return e?"checked":"unchecked"}v.displayName="SwitchBubbleInput";var N=a(51223);let w=r.forwardRef(({className:e,...s},a)=>t.jsx(b,{className:(0,N.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...s,ref:a,children:t.jsx(j,{className:(0,N.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));w.displayName=b.displayName},92632:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(68570).createProxy)(String.raw`E:\base\store\farcaster-base-hub\src\app\admin\settings\page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[9276,7912,6226,5536,2894,6534,3672,5019,1004,2187],()=>a(70881));module.exports=t})();