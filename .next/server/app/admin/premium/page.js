(()=>{var e={};e.id=3078,e.ids=[3078],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},58191:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>o,routeModule:()=>p,tree:()=>c}),t(16950),t(20060),t(35866);var r=t(23191),a=t(88716),i=t(37922),n=t.n(i),d=t(95231),l={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);t.d(s,l);let c=["",{children:["admin",{children:["premium",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,16950)),"E:\\base\\store\\farcaster-base-hub\\src\\app\\admin\\premium\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,20060)),"E:\\base\\store\\farcaster-base-hub\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],o=["E:\\base\\store\\farcaster-base-hub\\src\\app\\admin\\premium\\page.tsx"],m="/admin/premium/page",u={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/premium/page",pathname:"/admin/premium",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},56196:(e,s,t)=>{Promise.resolve().then(t.bind(t,63722))},66307:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(62881).Z)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},26092:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(62881).Z)("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]])},31540:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(62881).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},77506:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(62881).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},83855:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(62881).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},98091:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(62881).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},63722:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>f});var r=t(10326),a=t(17577),i=t(29752),n=t(91664),d=t(41190),l=t(38443),c=t(26092),o=t(83855),m=t(98091),u=t(66307),p=t(31540),x=t(84097),h=t(47779);function f(){let[e,s]=(0,a.useState)(!0),[t,f]=(0,a.useState)(!1),[g,b]=(0,a.useState)(null),[v,j]=(0,a.useState)([]),[y,w]=(0,a.useState)([]),[N,k]=(0,a.useState)([]),[S,Z]=(0,a.useState)(""),{toast:P}=(0,x.pm)();async function A(){try{let[e,s,t]=await Promise.all([fetch("/api/admin/premium/apps",{credentials:"include"}),fetch("/api/admin/premium/subscribers",{credentials:"include"}),fetch("/api/admin/premium/boosts",{credentials:"include"})]);if(e.ok){let s=await e.json();j(s.apps||[])}if(s.ok){let e=await s.json();w(e.subscribers||[])}if(t.ok){let e=await t.json();k(e.requests||[])}}catch(e){console.error("Error fetching data:",e)}finally{s(!1)}}let E=async()=>{if(!S.trim()){P({title:"Error",description:"Please enter an app ID",variant:"destructive"});return}try{let e=await fetch("/api/admin/premium/apps",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({appId:S})}),s=await e.json();if(e.ok)P({title:"Success",description:"App added to premium list"}),Z(""),A();else throw Error(s.error||"Failed to add app")}catch(e){P({title:"Error",description:e.message,variant:"destructive"})}},C=async e=>{try{(await fetch(`/api/admin/premium/apps/${e}`,{method:"DELETE",credentials:"include"})).ok&&(P({title:"Success",description:"App removed from premium list"}),A())}catch(e){P({title:"Error",description:e.message,variant:"destructive"})}},_=async e=>{try{(await fetch(`/api/admin/premium/boosts/${e}/approve`,{method:"POST",credentials:"include"})).ok&&(P({title:"Success",description:"Boost request approved"}),A())}catch(e){P({title:"Error",description:e.message,variant:"destructive"})}};return e?r.jsx(h.Z,{message:"Loading..."}):t?r.jsx("div",{className:"min-h-screen bg-[#0B0F19] pt-20 pb-24 px-4",children:(0,r.jsxs)("div",{className:"max-w-screen-xl mx-auto",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("h1",{className:"text-2xl font-bold mb-2 flex items-center gap-2",children:[r.jsx(c.Z,{className:"w-6 h-6 text-purple-400"}),"Premium Management"]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage premium apps, subscriptions, and boost requests"})]}),(0,r.jsxs)(i.Zb,{className:"glass-card mb-6",children:[r.jsx(i.Ol,{children:r.jsx(i.ll,{children:"Add Premium App"})}),r.jsx(i.aY,{children:(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx(d.I,{placeholder:"Enter App ID",value:S,onChange:e=>Z(e.target.value)}),(0,r.jsxs)(n.z,{onClick:E,children:[r.jsx(o.Z,{className:"w-4 h-4 mr-2"}),"Add"]})]})})]}),(0,r.jsxs)(i.Zb,{className:"glass-card mb-6",children:[r.jsx(i.Ol,{children:(0,r.jsxs)(i.ll,{children:["Premium Apps (",v.length,")"]})}),r.jsx(i.aY,{children:r.jsx("div",{className:"space-y-2",children:v.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-background-secondary rounded-lg",children:[(0,r.jsxs)("div",{children:[r.jsx("div",{className:"font-semibold",children:e.miniApp?.name||e.id}),r.jsx("div",{className:"text-xs text-muted-foreground",children:e.miniApp?.category||"N/A"})]}),r.jsx(n.z,{size:"sm",variant:"destructive",onClick:()=>C(e.id),children:r.jsx(m.Z,{className:"w-4 h-4"})})]},e.id))})})]}),(0,r.jsxs)(i.Zb,{className:"glass-card mb-6",children:[r.jsx(i.Ol,{children:(0,r.jsxs)(i.ll,{children:["Boost Requests (",N.length,")"]})}),r.jsx(i.aY,{children:r.jsx("div",{className:"space-y-2",children:N.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-background-secondary rounded-lg",children:[(0,r.jsxs)("div",{children:[r.jsx("div",{className:"font-semibold",children:e.miniApp?.name||e.appId}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Requested by: ",e.developer?.name||e.developerId]}),r.jsx(l.C,{variant:"approved"===e.status?"default":"secondary",children:e.status})]}),"pending"===e.status&&(0,r.jsxs)(n.z,{size:"sm",onClick:()=>_(e.id),children:[r.jsx(u.Z,{className:"w-4 h-4 mr-2"}),"Approve"]})]},e.id))})})]}),(0,r.jsxs)(i.Zb,{className:"glass-card",children:[r.jsx(i.Ol,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)(i.ll,{children:["Subscribers (",y.length,")"]}),(0,r.jsxs)(n.z,{size:"sm",variant:"outline",onClick:()=>{let e=new Blob([[["Wallet","Status","Started At","Expires At","Renewal Count"],...y.map(e=>[e.wallet,e.status,new Date(e.startedAt).toLocaleDateString(),new Date(e.expiresAt).toLocaleDateString(),e.renewalCount.toString()])].map(e=>e.join(",")).join("\n")],{type:"text/csv"}),s=window.URL.createObjectURL(e),t=document.createElement("a");t.href=s,t.download=`premium-subscribers-${new Date().toISOString()}.csv`,t.click(),window.URL.revokeObjectURL(s)},children:[r.jsx(p.Z,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]})}),r.jsx(i.aY,{children:r.jsx("div",{className:"space-y-2",children:y.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-background-secondary rounded-lg",children:[(0,r.jsxs)("div",{children:[r.jsx("div",{className:"font-semibold",children:e.wallet}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Expires: ",new Date(e.expiresAt).toLocaleDateString()]})]}),r.jsx(l.C,{variant:"active"===e.status?"default":"secondary",children:e.status})]},e.id))})})]})]})}):r.jsx("div",{className:"min-h-screen bg-[#0B0F19] pt-20 px-4",children:(0,r.jsxs)("div",{className:"max-w-screen-md mx-auto text-center py-20",children:[r.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Access Denied"}),r.jsx("p",{className:"text-muted-foreground",children:"You must be an admin to access this page."})]})})}},47779:(e,s,t)=>{"use strict";t.d(s,{Z:()=>d});var r=t(10326),a=t(77506),i=t(51223);function n({size:e="md",className:s,text:t}){return(0,r.jsxs)("div",{className:(0,i.cn)("flex flex-col items-center justify-center gap-2",s),children:[r.jsx(a.Z,{className:(0,i.cn)("animate-spin text-base-blue",{sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"}[e])}),t&&r.jsx("p",{className:"text-sm text-muted-foreground",children:t})]})}function d({message:e="Loading..."}){return r.jsx("div",{className:"min-h-screen bg-[#0B0F19] pt-20 px-4 pb-24",children:r.jsx("div",{className:"max-w-screen-md mx-auto flex items-center justify-center py-20",children:r.jsx(n,{size:"lg",text:e})})})}},38443:(e,s,t)=>{"use strict";t.d(s,{C:()=>d});var r=t(10326);t(17577);var a=t(79360),i=t(51223);let n=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d({className:e,variant:s,...t}){return r.jsx("div",{className:(0,i.cn)(n({variant:s}),e),...t})}},41190:(e,s,t)=>{"use strict";t.d(s,{I:()=>n});var r=t(10326),a=t(17577),i=t(51223);let n=a.forwardRef(({className:e,type:s,...t},a)=>r.jsx("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...t}));n.displayName="Input"},16950:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(68570).createProxy)(String.raw`E:\base\store\farcaster-base-hub\src\app\admin\premium\page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[9276,7912,5019],()=>t(58191));module.exports=r})();